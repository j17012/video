{% extends 'app/base.html' %}

{% block content %}

<h1>動画分割</h1>

    <form action="{% url  'app:index' %}">
      <input id = 'next' type="submit" value="トップページ"/>
    </form>

    <form action="{% url  'app:upload' %}">
        <input id = 'next' type="submit" value="動画アップロード"/>
    </form>

    <h1>アップロード済みファイルの一覧</h1>

        <table border="1">
          <tr>
            <th>動画ファイル</th>
            <th>分割</th>
          </tr>
          {% for uploadfile in uploadfile_list %} 
          <tr>
            <td><a href="{{ uploadfile.file.url }}" >{{ uploadfile.file.url }}</a></td>
            <td><button type="button">分割する</button></td>
          </tr>
        {% endfor %}
        </table>
        
  <script>
    $(function(){
      //アップロード済みファイルのidに連番を付与する
      var target = $('a');
      for(var i=0; i < target.length; i++){
        target[i].setAttribute('id','target' + (i+1));
      }
      //ボタンのclassに連番を付与する
      var name = $('button');
      for(var i=0; i < target.length; i++){
        name[i].setAttribute('name','btn' + (i+1));
      }
    });
    
    $(function(){
      $("btn1").click(function(){
        alert(document.getElementById("target1"));
      })
      $("btn2").click(function(){
        alert(document.getElementById("target2"));
      })
      $("btn3").click(function(){
        alert(document.getElementById("target3"));
      })
    })
  </script>
{% endblock %}